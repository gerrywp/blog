<!DOCTYPE html>
<html 
    lang="en-us"
    class="no-js"
>



<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="">
    <meta name="description" content="">
    
    <meta name="generator" content="Hugo 0.59.0" />
    <meta name="generation-date" content="2019-11-29 10:32:45.1390951 &#43;0800 CST m=&#43;0.297992601">
    <title>java那些事儿 &middot; 云亦海</title>
    <link rel="shortcut icon" href="https://gerrywp.github.io/blog/img/favicon.ico">
    <link rel="icon" href="https://gerrywp.github.io/blog/img/favicon.ico">
    
<link rel="stylesheet" href="https://gerrywp.github.io/blog/css/materialize.min.css">


<link rel="stylesheet" href="https://gerrywp.github.io/blog/css/font-awesome.min.css">


    
    <link rel="stylesheet" href="https://gerrywp.github.io/blog/css/styles/railscasts.css">



<link rel="stylesheet" href="https://gerrywp.github.io/blog/css/lightbox.css">


<link rel="stylesheet" href="https://gerrywp.github.io/blog/css/main.css">


    <script src="https://gerrywp.github.io/blog/js/modernizr-latest.js"></script>
    <script src="https://gerrywp.github.io/blog/js/lazysizes.min.js"></script>
    <script src="https://gerrywp.github.io/blog/js/ls.noscript.min.js"></script>

    <script>
        window.lazySizesConfig = window.lazySizesConfig || {};
        lazySizesConfig.addClasses = true;
        lazySizesConfig.loadMode = 2;
    </script>

    
</head>



<body class="page-colors minimum-viewport-height">
    

<nav class="main-menu menu-colors">
    <ul class="menu menu-colors no-list-float">
        <li><a href="https://gerrywp.github.io/blog/"><i class="fa fa-home fa-2x"></i></a></li>
        <li>
            <a href="#!"><i class="fa fa-bars fa-2x"></i></a>

            
            <ul class="menu flexible-width menu-colors no-list-float">
                
                
                    <li class="active">
                    
                        <a href="/blog/post/">
                            
                            <span>Posts</span>
                        </a>
                    
                    </li>
                
            </ul>
        </li>
        <li><a href="#!" data-lightbox-id="searchbox"><i class="fa fa-search fa-2x"></i></a></li>
        
            <li class="blue-grey-text" style="border-top: 1px solid;"></li>
            
        
        <li class="blue-grey-text" style="border-top: 1px solid;"></li>
        <li>
            <a href="" type="application/rss+xml" target="_blank">
                <i class="fa fa-rss fa-2x"></i>
            </a>
        </li>
    </ul>
</nav>

<div id="searchbox" class="no-display">
    <div class="valign-wrapper fill-container">
        <div class="valign large-form horizontal-center-hack">
            <form method="get" id="search" action="http://duckduckgo.com/">
    <input type="hidden" name="sites"value="https://gerrywp.github.io/blog/"/>
    <input type="hidden" name="ka" value="h"/>
    <input type="hidden" name="k7" value="#fafafa"/>
    <input type="hidden" name="kj" value="#3f3f3f"/>
    <input type="hidden" name="ky" value="#fafafa"/>
    <input type="hidden" name="kx" value="b"/>
    <input type="hidden" name="kt" value="Helvetica"/>
    <input type="text" name="q" maxlength="255" placeholder="Search"/>
    <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
</form>


        </div>
    </div>
</div>





    <div class="main-content">
        <div class="center-space">
            <div class="article-colors">
                
                <article>
                    <header>
                        <h1 class="article-title">java那些事儿</h1>
                        <time class="date-color">Mon Jun 25, 2018</time>
                        <span class="separator">|</span>
                        
<ul class="categories">
    <li>
        <i class="fa fa-book"></i>
    </li>
    
        <li><a href="https://gerrywp.github.io/blog/categories/others">others</a></li>
    
</ul>


                        <span class="separator">|</span>
                        
<ul class="tags">
    <li>
        <i class="fa fa-tags"></i>
    </li>
    
        <li><a href="https://gerrywp.github.io/blog/tags/tag1">tag1</a></li>
    
</ul>


                    </header>

                    <hr>

                    <section>
                        
                            <p>　　最近在系统的学习java这门语言，涉及的东西也比较多。集成开发环境使用的是<code>Intellij(读音：Intel li year) Idea</code>，循序渐进地学习语法、jsp、servlet、maven、gradle。构建工具到后期需要着重学习，只有这样才能真正了解IDE的project构建过程，实现工程自动化的自定义。阅读的书籍主要是《Java web 高级编程》和《Java 编程思想》，前者注重实战操作后者注重基础知识！学习必然会遇到问题，google下并记录下来。</p>

<h3 id="ide错误之error-during-artifact-deployment">IDE错误之error during artifact deployment</h3>

<ol>
<li><p>第一种情况<br />
新建了一个JavaEE项目，用servlet和jsp搭了一个简单的demo,然后调试的时候死活启动不了，报标题报告的错误，莫名其妙令人费解。经过一番波折才发现，原来是servlet的<code>urlParterns</code>配置错了，而这样的错误不会报告语法错误，也不会报告编译错误，隐晦至深已经无力吐槽了,个人觉得应该算是一个严重的bug。</p>

<pre><code class="language-java">//错误：没有带根路径
@WebServlet(name=&quot;LoginServlet&quot;,urlParterns=&quot;login&quot;)
//正确
@WebServlet(name=&quot;LoginServlet&quot;,urlParterns=&quot;/login&quot;)
//最优方式:以数组赋值
@WebServlet(name=&quot;LoginServlet&quot;,urlParterns={&quot;login&quot;})
</code></pre></li>
</ol>

<p>以后像这样的错误，多数都是编码语法错误，认真检查下自己的代码吧，没有任何提示的！</p>

<ol>
<li>第二种情况<br />
在[Project Structure]-&gt;[Artifacts]缺少没有添加要发布到out目录的lib<br />
或library里面缺少了jar包，按照library-modules-artifacts顺序挨个检查一遍！
&gt;总结：所有的url路径最好还是带上<strong>&rsquo;/&rsquo;</strong>，太坑爹了。</li>
</ol>

<h3 id="invalid-content-was-found-starting-with-element-init-param">invalid content was found starting with element &lsquo;init-param&rsquo;</h3>

<p>web.xml配置servlet配置节顺序错误：</p>

<pre><code class="language-xml">&lt;!--此配置节应该放到最后--&gt;
&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
</code></pre>

<h3 id="sendredirect-响应-重定向-和forward-请求-转发">sendRedirect(响应-重定向)和forward(请求-转发)</h3>

<p>jsp里面页面跳转有两种方式：
1. 重定向
2. 转发</p>

<p>如果后端servlet有数据需要回传给jsp页面的话，要么使用请求转发,要么使用回话session传递。<br />
重定向传递数据的话只能通过url parameters来传递比如：</p>

<pre><code class="language-java">response.sendRedirect(&quot;/index.jsp?username=pai&amp;id=1&quot;);
</code></pre>

<h3 id="intellij-idea设置">Intellij Idea设置</h3>

<ol>
<li><p>让右侧不显示宽度虚线<br />
[File]-&gt;[Settings]-&gt;[Appearance]-&gt;[Show hard wrap guide]</p></li>

<li><p>设置智能感知大小写不敏感(免除首字母大写的智能感知困扰)<br />
[File]-&gt;[Settings]-&gt;[Code completion]-&gt;[Case sensitive completion] 设置为none</p></li>

<li><p>设置编码特殊颜色
[Settings]-&gt;[Editor]-&gt;[Color Schema]<br />
颜色RGB值：<br />
ClassName:<code>4EC9B0</code><br />
InterfaceName: <code>275FBA</code></p></li>
</ol>

<h3 id="spring各种xml配置命名空间及schemelocation的引入">Spring各种xml配置命名空间及SchemeLocation的引入</h3>

<p>Spring的xml特别多，以Beans为例，通过对Beans的配置可以实现Controller的(IOC设计模式)依赖注入(DI)。</p>

<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/mvc
                           http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;
 
&lt;mvc:annotation-driven/&gt;
&lt;bean name=&quot;greetingServiceImpl&quot; class=&quot;com.wrox.GreetingServiceImpl&quot; /&gt;
&lt;bean name=&quot;helloController&quot; class=&quot;com.wrox.HelloController&quot;
      &lt;property name=&quot;greetingService&quot; ref=&quot;greetingServiceImpl&quot;/&gt;
&lt;/bean&gt;
&lt;/beans&gt;
</code></pre>

<p><strong>首先</strong>:对于上面的URL路径不会真正的需要联网去查找，而是会优先在本地jar包里面进行查找。<br />
其中schemaLocation指定了校验xml的模式定义文件(XSD)的位置，在jar包<code>META-INF</code>目录下<code>spring.schemas</code>文件，定义了url和本地xsd文件路径的映射，
xsd文件让编辑xml配置的时候有了intellisence智能感知能力。<br />
<strong>其次</strong>:真正有用的是jar包<code>META-INF</code>目录下的<code>spring.handlers</code>它定义了名称空间到实际jar里面<code>class</code>名称的具体映射，xml文件里面的节点(section)都是实际通过俱象class俱象method进行处理的。<br />
拿<code>spring-webmvc-5.0.7.RELEASE.jar</code>包来说，<code>META-INF/spring.handlers</code>文件定义如下：</p>

<pre><code class="language-xml">http\://www.springframework.org/schema/mvc=org.springframework.web.servlet.config.MvcNamespaceHandler
</code></pre>

<p>指定了使用<code>org.springframework.web.servlet.config</code>包下的<code>MvcNamespaceHandler</code>处理程序来处理<bean>下面的配置节。我们可以查阅源码！
1. schema/tool -&gt; 指向了 org.springframework.beans.factory.xml/sping-tools.xsd文件</p>

<h3 id="如何使用消息避免分布式事务">如何使用消息避免分布式事务</h3>

<p><a href="http://www.cnblogs.com/LBSer/p/4715395.html" title="点我访问" target="_blank">文章转载</a></p>

<blockquote>
<p>参考<br />
<a href="https://blog.csdn.net/hengyunabc/article/details/22295749" title="点我访问">为什么在Spring的配置里，最好不要配置xsd文件的版本号</a><br />
<a href="https://blog.csdn.net/cutesource/article/details/5864562" title="点我访问">基于Spring可扩展Schema提供自定义配置支持</a></p>
</blockquote>
                        
                    </section>

                    <footer class="right-align">
                        <p><small>Copyright &#169; Gerry</small></p>
                    </footer>

                    


                </article>
            </div>
        </div>
    </div>

    
<script src="https://gerrywp.github.io/blog/js/jquery-2.1.4.min.js"></script>


<script src="https://gerrywp.github.io/blog/js/materialize.min.js"></script>


<script src="https://gerrywp.github.io/blog/js/imagesloaded.pkgd.min.js"></script>


<script src="https://gerrywp.github.io/blog/js/masonry.pkgd.min.js"></script>


    
    <script src="https://gerrywp.github.io/blog/js/highlight.pack.js"></script>



<script src="https://gerrywp.github.io/blog/js/lightbox.min.js"></script>


<script src="https://gerrywp.github.io/blog/js/jquery.infinitescroll.min.js"></script>


<script src="https://gerrywp.github.io/blog/js/main.js"></script>


</body>

</html>





