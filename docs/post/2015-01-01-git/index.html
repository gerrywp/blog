<!DOCTYPE html>
<html 
    lang="en-us"
    class="no-js"
>



<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="">
    <meta name="description" content="">
    
    <meta name="generator" content="Hugo 0.59.0" />
    <meta name="generation-date" content="2019-11-06 22:14:08.6111894 &#43;0800 CST m=&#43;0.350001001">
    <title>git常用命令 &middot; 云亦海</title>
    <link rel="shortcut icon" href="https://gerrywp.github.io/img/favicon.ico">
    <link rel="icon" href="https://gerrywp.github.io/img/favicon.ico">
    
<link rel="stylesheet" href="https://gerrywp.github.io/css/materialize.min.css">


<link rel="stylesheet" href="https://gerrywp.github.io/css/font-awesome.min.css">


    
    <link rel="stylesheet" href="https://gerrywp.github.io/css/styles/railscasts.css">



<link rel="stylesheet" href="https://gerrywp.github.io/css/lightbox.css">


<link rel="stylesheet" href="https://gerrywp.github.io/css/main.css">


    <script src="https://gerrywp.github.io/js/modernizr-latest.js"></script>
    <script src="https://gerrywp.github.io/js/lazysizes.min.js"></script>
    <script src="https://gerrywp.github.io/js/ls.noscript.min.js"></script>

    <script>
        window.lazySizesConfig = window.lazySizesConfig || {};
        lazySizesConfig.addClasses = true;
        lazySizesConfig.loadMode = 2;
    </script>

    
</head>



<body class="page-colors minimum-viewport-height">
    

<nav class="main-menu menu-colors">
    <ul class="menu menu-colors no-list-float">
        <li><a href="https://gerrywp.github.io/"><i class="fa fa-home fa-2x"></i></a></li>
        <li>
            <a href="#!"><i class="fa fa-bars fa-2x"></i></a>

            
            <ul class="menu flexible-width menu-colors no-list-float">
                
                
                    <li class="active">
                    
                        <a href="https://gerrywp.github.io//post/">
                            
                            <span>Posts</span>
                        </a>
                    
                    </li>
                
            </ul>
        </li>
        <li><a href="#!" data-lightbox-id="searchbox"><i class="fa fa-search fa-2x"></i></a></li>
        
            <li class="blue-grey-text" style="border-top: 1px solid;"></li>
            
        
        <li class="blue-grey-text" style="border-top: 1px solid;"></li>
        <li>
            <a href="" type="application/rss+xml" target="_blank">
                <i class="fa fa-rss fa-2x"></i>
            </a>
        </li>
    </ul>
</nav>

<div id="searchbox" class="no-display">
    <div class="valign-wrapper fill-container">
        <div class="valign large-form horizontal-center-hack">
            <form method="get" id="search" action="http://duckduckgo.com/">
    <input type="hidden" name="sites"value="https://gerrywp.github.io/"/>
    <input type="hidden" name="ka" value="h"/>
    <input type="hidden" name="k7" value="#fafafa"/>
    <input type="hidden" name="kj" value="#3f3f3f"/>
    <input type="hidden" name="ky" value="#fafafa"/>
    <input type="hidden" name="kx" value="b"/>
    <input type="hidden" name="kt" value="Helvetica"/>
    <input type="text" name="q" maxlength="255" placeholder="Search"/>
    <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
</form>


        </div>
    </div>
</div>





    <div class="main-content">
        <div class="center-space">
            <div class="article-colors">
                
                <article>
                    <header>
                        <h1 class="article-title">git常用命令</h1>
                        <time class="date-color">Thu Jan 01, 2015</time>
                        <span class="separator">|</span>
                        
<ul class="categories">
    <li>
        <i class="fa fa-book"></i>
    </li>
    
        <li><a href="https://gerrywp.github.io/categories/others">others</a></li>
    
</ul>


                        <span class="separator">|</span>
                        
<ul class="tags">
    <li>
        <i class="fa fa-tags"></i>
    </li>
    
</ul>


                    </header>

                    <hr>

                    <section>
                        
                            <p><strong>命令别名</strong>:~$ <code>git config --global alias.glog log --graph --pretty=format:%h-%cn,%cr:%s%d</code>
图形化显示提交日志</p>

<h3 id="git命令杂项">git命令杂项</h3>

<ol>
<li>--global参数。配置的是当前用户的配置文件，在windows下路径为：<code>%HOMEPATH%\.gitconfig</code>。
linux下为:<code>cd ~</code>下的.gitconfig文件。</li>
<li>--local。配置的是项目底下的.gitconfig文件</li>
<li>--system。配置的是系统文件,在windows下路径为:git安装路径下的<code>\mingw32\etc\gitconfig</code>文件。
linux下为:<code>/etc/gitconfig</code>文件。</li>
</ol>

<h3 id="http-https记住用户名密码">http/https记住用户名密码</h3>

<p><code>git config --global credential.helper</code><br />
<strong>&ldquo;store&rdquo;</strong>模式接受一个 --file <path> 参数，可以自定义存放密码的文件路径（默认是<code>~/.git-credentials</code>）。</p>

<pre><code class="language-shell">git config --global credential.helper store --file ~/.my-credentials
</code></pre>

<h3 id="撤销和重置操作">撤销和重置操作</h3>

<p>checkout、reset都可以对workstation工作区的文件进行撤销更改。<br />
具体的区别参考git-scm的文档说明
<a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E7%BD%AE%E6%8F%AD%E5%AF%86" title="点我访问">git手册</a></p>

<pre><code class="language-shell">git checkout --hard --filename
git reset --hard --filename
</code></pre>

<h3 id="设置commit默认编辑器为vim">设置commit默认编辑器为vim</h3>

<p>ubuntu下git默认使用的文本编辑器为nano,使用起来感觉不顺手，可以通过修改配置文件改成自己喜欢的编辑器。</p>

<pre><code class="language-shell">#!/bin/bash
# 可以使用git var --help 查看变量设置
# git config --global --help 
git config --global core.editor vim
# 查看全局配置文件是否修改成功
git config --global -e
</code></pre>

<h3 id="git-log显示commit所属分支">git log显示commit所属分支</h3>

<p>option:&ndash;decorate</p>

<pre><code class="language-shell">git log --graph --decorate
# 或者使用format %d 达到同样的效果
git log --graph --format=%d
</code></pre>

<h3 id="远程分支">远程分支</h3>

<pre><code class="language-shell"># 查看远程分支
git branch -a
# 删除远程分支和标签
git push origin --delete &lt;branchname&gt;
git push origin --delete tag &lt;tagname&gt;
# 否则使用下面的方式，推送空分支
git push origin:
</code></pre>

<h3 id="windows下vs2017">windows下vs2017</h3>

<ol>
<li>visual studio 2017默认集成了git工具，在选择安装包的时候我们需要安装git for windows。
在「单个组件」···「代码工具」里面选中「适用于windows的git」。</li>
</ol>

<p><img src="../pictures/QQ20170627205054.png" alt="git in vs" title="请开启" /></p>

<ol>
<li><p>打开安装好的git-bash,使用ssh-keygen命令生成ssh公钥和私钥</p>

<pre><code class="language-shell">ssh-keygen -t rsa -C&quot;your comment&quot;
#-t参数 加密类型
#-C参数 注释
</code></pre></li>
</ol>

<p>win10系统下必须要指定公钥生成的路径c:\users\username.ssh\id_rsa</p>

<ol>
<li><p>将生成的公钥id_rsa.pub里面的内容复制，并添加到远程服务器上的「密钥管理」里面。</p></li>

<li><p>生成known_hosts文件</p>

<pre><code class="language-shell">ssh -t git@site.com #连接远程服务器
git pull
</code></pre></li>
</ol>

<p>上述两个命令都会在.ssh\目录下生成一个known_hosts的文件</p>

<ol>
<li>现在可以直接使用vs2017自带的git工具了。</li>
</ol>

<h3 id="git无法clone私有库">git无法clone私有库</h3>

<p>问题背景：公司有一个私有库我需要拷贝下来，使用git-gui图形页面可以克隆但是使用terminal克隆死活克隆不下来</p>

<pre><code class="language-console">git clone http://192.168.0.30:3000
</code></pre>

<p>这样直接clone会提示无法连接到服务器，我们需要带上用户名密码</p>

<pre><code class="language-console">git clone http://gerry:wp@192.168.0.30:3000
</code></pre>

<p>说明：gerry是用户名(请注意不是email)，wp是密码</p>

<p>参考链接</p>

<blockquote>
<p><a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%87%AD%E8%AF%81%E5%AD%98%E5%82%A8">git手册</a></p>
</blockquote>
                        
                    </section>

                    <footer class="right-align">
                        <p><small>Copyright &#169; Gerry</small></p>
                    </footer>

                    


                </article>
            </div>
        </div>
    </div>

    
<script src="https://gerrywp.github.io/js/jquery-2.1.4.min.js"></script>


<script src="https://gerrywp.github.io/js/materialize.min.js"></script>


<script src="https://gerrywp.github.io/js/imagesloaded.pkgd.min.js"></script>


<script src="https://gerrywp.github.io/js/masonry.pkgd.min.js"></script>


    
    <script src="https://gerrywp.github.io/js/highlight.pack.js"></script>



<script src="https://gerrywp.github.io/js/lightbox.min.js"></script>


<script src="https://gerrywp.github.io/js/jquery.infinitescroll.min.js"></script>


<script src="https://gerrywp.github.io/js/main.js"></script>


</body>

</html>





